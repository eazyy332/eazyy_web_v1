import{j as e,S as N,m as x,u as v,e as k,f as T,C as W,a as R,r as C}from"./index-BsN2_pnW.js";import{L as E}from"./LazyImage-C9DSb03t.js";import{H as L}from"./heart-NPNayR59.js";import{M as B}from"./minus-Q7ZlvDMF.js";import{P as O}from"./plus-D7P7M6iB.js";import{T as S}from"./trash-2-Tv1L2Fpd.js";import{B as q}from"./brush-C9OZB_SW.js";import{S as P}from"./scissors-DwO1J0o-.js";import{W as Y,S as Q}from"./wind-CpSWjsj6.js";import{C as _}from"./clock-DGqH9gDW.js";import{A as D}from"./arrow-left-D92mxbb0.js";import{A as M}from"./arrow-right-CJwG2D7Q.js";const $=({id:m,name:r,price:l,quantity:t,description:h,image:u,serviceColor:n,isWishlisted:d,custom_input_value:j,calculated_price:c,unit_label:g,onQuantityChange:i,onRemove:s,onToggleWishlist:o})=>{const f=n.startsWith("#"),b=()=>f?{backgroundColor:n}:{};return e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between pb-6 border-b border-gray-100 last:border-0 last:pb-0",children:[e.jsx("div",{className:"flex-1 mb-4 sm:mb-0",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:u?e.jsx(E,{src:u,alt:r,className:"w-full h-full object-cover rounded-lg",width:"64",height:"64"}):e.jsx(N,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),e.jsx(x.button,{onClick:o,className:"ml-2",whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":d?"Remove from wishlist":"Add to wishlist",children:e.jsx(L,{className:`w-5 h-5 ${d?"text-red-500 fill-red-500":"text-gray-300"}`})})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:h}),j&&e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[j," ",g," × €",l.toFixed(2),"/",g]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-end sm:space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x.button,{onClick:()=>i(-1),className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 hover:bg-gray-200",whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":"Decrease quantity",children:e.jsx(B,{className:"w-4 h-4"})}),e.jsx("span",{className:"w-8 text-center font-medium",children:t}),e.jsx(x.button,{onClick:()=>i(1),style:b(),className:`w-8 h-8 rounded-full flex items-center justify-center text-white ${f?"":n}`,whileHover:{scale:1.1},whileTap:{scale:.9},"aria-label":"Increase quantity",children:e.jsx(O,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["€",(c==null?void 0:c.toFixed(2))||(l*t).toFixed(2)]}),e.jsxs(x.button,{onClick:s,className:"text-sm text-red-600 hover:text-red-700 mt-1 flex items-center justify-end",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(S,{className:"w-3 h-3 mr-1"}),"Remove"]})]})]})]})},z=({serviceId:m,serviceName:r,serviceIcon:l,serviceColor:t,items:h,wishlistedItems:u,onQuantityChange:n,onRemoveItem:d,onToggleWishlist:j})=>{const c=s=>{switch(s.toLowerCase()){case"shirt":return e.jsx(Q,{className:"w-5 h-5 text-white"});case"wind":return e.jsx(Y,{className:"w-5 h-5 text-white"});case"scissors":return e.jsx(P,{className:"w-5 h-5 text-white"});case"brush":return e.jsx(q,{className:"w-5 h-5 text-white"});case"package":case"shoppingbag":default:return e.jsx(N,{className:"w-5 h-5 text-white"})}},g=()=>h.reduce((s,o)=>o.calculated_price?s+o.calculated_price:s+o.price*o.quantity,0),i=t.startsWith("#");return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 flex items-center",style:i?{backgroundColor:"white"}:{backgroundColor:"white"},children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mr-3",style:i?{backgroundColor:t}:{backgroundColor:t},children:typeof l=="string"?c(l):l}),e.jsx("h2",{className:"text-xl font-bold",style:i?{color:t}:{color:t},children:r})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-6",children:h.map(s=>e.jsx($,{id:s.id,name:s.name,price:s.price,quantity:s.quantity,description:s.description,image:s.image,serviceColor:t,isWishlisted:u.includes(s.id),custom_input_value:s.custom_input_value,calculated_price:s.calculated_price,unit_label:s.unit_label,onQuantityChange:o=>n(s.id,o),onRemove:()=>d(s.id),onToggleWishlist:()=>j(s.id)},s.id))}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["€",g().toFixed(2)]})]})})]})]})},V=()=>{const m=v(),{user:r}=k();return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[e.jsx(N,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-6",children:r?"Looks like you haven't added any items to your cart yet.":"Sign in to view your cart or continue shopping as a guest."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[e.jsx(x.button,{onClick:()=>m("/order/service"),className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Browse Services"}),!r&&e.jsx(x.button,{onClick:()=>m("/login",{state:{returnTo:"/cart"}}),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Sign In"})]})]})},G=({totalItems:m,subtotal:r,tax:l,total:t,hasDiscount:h=!1,discountAmount:u=0})=>{const n=v(),{cart:d}=T(),j=()=>{n("/order/address",{state:{items:Object.values(d).reduce((c,g)=>(g.items.forEach(i=>{c[i.id]=i}),c),{}),service:Object.keys(d)[0],type:"standard"}})};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-24",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Summary"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Items"}),e.jsx("span",{className:"font-medium",children:m})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["€",r.toFixed(2)]})]}),h&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-€",u.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"VAT (21%)"}),e.jsxs("span",{className:"font-medium",children:["€",l.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping"}),e.jsx("span",{className:"font-medium text-green-600",children:"Free"})]})]}),e.jsx("div",{className:"border-t border-gray-100 pt-4 mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["€",t.toFixed(2)]})]})}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(_,{className:"w-5 h-5 mr-2 text-blue-600"}),e.jsx("span",{children:"Estimated service time: 24-48 hours"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(W,{className:"w-5 h-5 mr-2 text-blue-600"}),e.jsx("span",{children:"Available for pickup: Tomorrow"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(x.button,{onClick:()=>n("/order/service"),className:"w-full flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(D,{className:"w-5 h-5 mr-2"}),"Continue Shopping"]}),e.jsxs(x.button,{onClick:j,className:"w-full flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:["Proceed to Checkout",e.jsx(M,{className:"w-5 h-5 ml-2"})]})]})]})},ne=()=>{const m=v(),{user:r}=k();R();const{cart:l,addItem:t,removeItem:h,updateQuantity:u,clearCart:n,wishlistedItems:d,toggleWishlist:j,totalItems:c,subtotal:g,tax:i,total:s}=T(),[o,f]=C.useState(!0);C.useEffect(()=>{const a=setTimeout(()=>{f(!1)},500);return()=>clearTimeout(a)},[]);const b=(a,p,y)=>{u(a,p,y)},H=(a,p)=>{h(a,p)},F=()=>{n()},A=a=>{if(!r){m("/login",{state:{returnTo:"/cart"}});return}j(a)};return o?e.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Cart"})}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})})]})}):Object.keys(l).length===0?e.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Cart"})}),e.jsx(V,{})]})}):e.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Cart"}),e.jsxs(x.button,{onClick:F,className:"flex items-center text-red-600 hover:text-red-700",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Clear Cart"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-8",children:Object.entries(l).map(([a,{service:p,items:y}])=>e.jsx(z,{serviceId:a,serviceName:p.name,serviceIcon:p.icon,serviceColor:p.color,items:y,wishlistedItems:d,onQuantityChange:(w,I)=>b(a,w,I),onRemoveItem:w=>H(a,w),onToggleWishlist:A},a))}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(G,{totalItems:c,subtotal:g,tax:i,total:s})})]})]})})};export{ne as default};
