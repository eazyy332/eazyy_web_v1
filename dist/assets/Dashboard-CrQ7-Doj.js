import{c as u,u as N,e as S,j as e,m as d,R as k,r as n,i as C,g as P}from"./index-BsN2_pnW.js";import{L as T}from"./log-out-0NWe_3k6.js";import{U as g}from"./users-Ca2LPpxF.js";import{P as p}from"./package-JmuUYXCi.js";import{B as y}from"./building-2-Cow0VFEx.js";import{F as E}from"./file-text-BzJD3yu5.js";import{C as L}from"./credit-card-DO2M7p6S.js";import{S as R}from"./settings-DmN2sqhH.js";import{s as U,g as O}from"./stripe-service-Dxjc6CUH.js";import{T as A}from"./trending-up-y_NvTwE2.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=u("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=u("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),B=({children:a,activeTab:t})=>{const l=N(),{signOut:c}=S(),i=[{id:"dashboard",label:"Dashboard",icon:D},{id:"users",label:"Users",icon:g},{id:"orders",label:"Orders",icon:p},{id:"businesses",label:"Businesses",icon:y},{id:"reports",label:"Reports",icon:E},{id:"billing",label:"Billing",icon:L},{id:"settings",label:"Settings",icon:R}],o=async()=>{try{await c(),l("/admin/login")}catch(r){console.error("Error signing out:",r)}};return e.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-64",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:e.jsxs("nav",{className:"space-y-2",children:[i.map(r=>e.jsxs(d.button,{onClick:()=>l(`/admin/${r.id}`),className:`w-full flex items-center px-4 py-3 rounded-xl text-left transition-colors duration-200 ${t===r.id?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[k.createElement(r.icon,{className:"w-5 h-5 mr-3"}),r.label]},r.id)),e.jsxs(d.button,{onClick:o,className:"w-full flex items-center px-4 py-3 rounded-xl text-left text-red-600 hover:bg-red-50 transition-colors duration-200",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(T,{className:"w-5 h-5 mr-3"}),"Sign Out"]})]})})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 min-h-[500px]",children:a})})]})})})},F=()=>{const[a,t]=n.useState(!1),[l,c]=n.useState(null),[i,o]=n.useState(null),[r,j]=n.useState([]),[b,f]=n.useState(!1),v=async()=>{try{t(!0),c(null),o(null);const s=await U();o(s)}catch(s){c(s instanceof Error?s.message:"Failed to sync with Stripe")}finally{t(!1)}},w=async()=>{try{t(!0),c(null);const s=await O();j(s.products||[]),f(!0)}catch(s){c(s instanceof Error?s.message:"Failed to get Stripe products")}finally{t(!1)}};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Stripe Products Sync"}),e.jsxs("div",{className:"space-y-6",children:[l&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(C,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-red-800 mb-1",children:"Error"}),e.jsx("p",{className:"text-red-700 text-sm",children:l})]})]})}),i&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(P,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-green-800 mb-1",children:"Sync Completed"}),e.jsxs("div",{className:"text-green-700 text-sm",children:[e.jsxs("p",{children:["Total items: ",i.counts.total]}),e.jsxs("p",{children:["Created: ",i.counts.created]}),e.jsxs("p",{children:["Updated: ",i.counts.updated]}),e.jsxs("p",{children:["Unchanged: ",i.counts.unchanged]}),e.jsxs("p",{children:["Deactivated: ",i.counts.deactivated]}),e.jsxs("p",{children:["Errors: ",i.counts.errors]})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(d.button,{onClick:v,disabled:a,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-xl font-medium disabled:bg-blue-300",whileHover:{scale:a?1:1.05},whileTap:{scale:a?1:.95},children:[a?e.jsx(h,{className:"w-5 h-5 mr-2 animate-spin"}):e.jsx(h,{className:"w-5 h-5 mr-2"}),"Sync Products with Stripe"]}),e.jsx(d.button,{onClick:w,disabled:a,className:"flex items-center justify-center px-4 py-2 bg-gray-100 text-gray-700 rounded-xl font-medium disabled:bg-gray-200",whileHover:{scale:a?1:1.05},whileTap:{scale:a?1:.95},children:"View Stripe Products"})]}),b&&r.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stripe Products"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(s=>{const x=s.default_price,m=x!=null&&x.unit_amount?x.unit_amount/100:null;return e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.description})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m!==null?e.jsxs("div",{className:"text-sm text-gray-900",children:["€",m.toFixed(2)]}):e.jsx("div",{className:"text-sm text-gray-500",children:"Custom pricing"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.metadata.category||"Uncategorized"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${s.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.active?"Active":"Inactive"})})]},s.id)})})]})})]})]})]})},K=()=>{const a=[{title:"Total Orders",value:"486",change:"+12%",icon:p,color:"bg-blue-600",lightColor:"bg-blue-50"},{title:"Active Users",value:"2,486",change:"+8%",icon:g,color:"bg-green-600",lightColor:"bg-green-50"},{title:"Business Partners",value:"48",change:"+2%",icon:y,color:"bg-purple-600",lightColor:"bg-purple-50"},{title:"Revenue",value:"€24,486",change:"+18%",icon:A,color:"bg-amber-600",lightColor:"bg-amber-50"}];return e.jsx(B,{activeTab:"dashboard",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Overview of your business metrics"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((t,l)=>e.jsxs(d.div,{className:`${t.lightColor} rounded-2xl p-6`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:l*.1},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`${t.color} w-12 h-12 rounded-xl flex items-center justify-center text-white`,children:e.jsx(t.icon,{size:24})}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:t.change})]}),e.jsx("h3",{className:"text-gray-600 text-sm mb-1",children:t.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.value})]},t.title))}),e.jsx(F,{})]})})};export{K as default};
