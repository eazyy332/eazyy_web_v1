import{c as R,u as V,d as Z,r as u,j as e,m as o,C as $,R as P}from"./index-BsN2_pnW.js";import{t as v,c as G,f as r}from"./format-BuON0pZi.js";import{C as E}from"./clock-DGqH9gDW.js";import{I as j}from"./info-SxYLStHm.js";import{A as J}from"./arrow-left-D92mxbb0.js";import{A as K}from"./arrow-right-CJwG2D7Q.js";import{B as Q}from"./building-2-Cow0VFEx.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=R("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=R("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);function te(l,c){const s=v(l);return isNaN(c)?G(l,NaN):(c&&s.setDate(s.getDate()+c),s)}function O(l,c){const s=v(l),y=v(c);return s.getTime()>y.getTime()}function A(l,c){const s=v(l);return s.setHours(c),s}function I(l,c){const s=v(l);return s.setMinutes(c),s}function se(){const l=new Date,c=l.getFullYear(),s=l.getMonth(),y=l.getDate(),a=new Date(0);return a.setFullYear(c,s,y+1),a.setHours(0,0,0,0),a}const de=()=>{const l=V(),c=Z(),[s,y]=u.useState(null),[a,w]=u.useState(null),[g,L]=u.useState(""),[p,k]=u.useState(""),[m,B]=u.useState(""),[h,F]=u.useState(""),[M,W]=u.useState(""),{service:D,items:S,address:i}=c.state||{},T=se();T.setFullYear(2025);const _=Array.from({length:7},(t,n)=>te(T,n)),C=["17:00","18:00","19:00","20:00","21:00","22:00"],H=[{id:"in-person",title:"Receive in Person",description:"Hand-delivered directly to you",icon:ee,instructions:["We'll call you when we arrive","Please be available during the delivery window","Have your order ID ready"]},{id:"door",title:"Leave at the Door",description:"Contactless delivery at your doorstep",icon:X,instructions:["We'll send a photo confirmation","Ensure your address is accurate","Provide any gate/entry codes if needed"]},{id:"reception",title:"Drop off at Reception",description:"Leave with building reception/concierge",icon:Q,instructions:["Available for apartments and offices","We'll get a signature from reception","Include your unit/office number"]}],b=t=>{if(!s)return!1;const[n,d]=t.split(":").map(Number),x=I(A(s,n),d);return O(x,new Date)},f=t=>{if(!s||!a||r(a,"yyyy-MM-dd")<=r(s,"yyyy-MM-dd"))return!1;const[n,d]=t.split(":").map(Number),x=I(A(a,n),d);return O(x,s)},Y=()=>{if(!s||!g||!m)return;const t=new Date(s),[n,d]=g.split(":").map(Number);t.setHours(n,d);let x;if(a&&p){x=new Date(a);const[U,q]=p.split(":").map(Number);x.setHours(U,q)}l("/order/confirmation",{state:{service:D,items:S,pickup_date:t.toISOString(),delivery_date:x==null?void 0:x.toISOString(),pickup_address:`${i==null?void 0:i.street}, ${i==null?void 0:i.city} ${i==null?void 0:i.postal_code}`,delivery_address:`${i==null?void 0:i.street}, ${i==null?void 0:i.city} ${i==null?void 0:i.postal_code}`,pickup_option:m,delivery_option:h,special_instructions:M,estimated_pickup_time:g,estimated_dropoff_time:p}})},z=()=>{l("/order/address",{state:{service:D,items:S,address:i}})},N=s&&g&&m&&(!a||a&&p&&h);return e.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white",children:e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Schedule Pickup & Delivery"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Choose your preferred pickup and delivery times"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx($,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Pickup Date"})]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 mb-8",children:_.map(t=>e.jsxs(o.button,{onClick:()=>{y(t),a&&r(a,"yyyy-MM-dd")<=r(t,"yyyy-MM-dd")&&(w(null),k(""))},className:`p-3 rounded-xl text-center transition-all duration-300 ${(s==null?void 0:s.toDateString())===t.toDateString()?"bg-blue-600 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx("div",{className:"text-sm font-medium",children:r(t,"EEE")}),e.jsx("div",{className:"text-lg font-bold",children:r(t,"d")})]},t.toISOString()))}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(E,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Pickup Time"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:C.map(t=>e.jsx(o.button,{onClick:()=>L(t),disabled:!b(t),className:`p-3 rounded-xl text-center transition-all duration-300 ${g===t?"bg-blue-600 text-white":b(t)?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,whileHover:b(t)?{scale:1.05}:{},whileTap:b(t)?{scale:.95}:{},children:t},`pickup-${t}`))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(j,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Pickup Preference"})]}),e.jsx("div",{className:"space-y-3",children:H.map(t=>e.jsxs(o.button,{onClick:()=>B(t.id),className:`w-full p-4 rounded-xl text-left transition-all duration-300 ${m===t.id?"bg-blue-600 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${m===t.id?"bg-white/20":"bg-white"} flex items-center justify-center mr-3`,children:P.createElement(t.icon,{className:m===t.id?"text-white":"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.title}),e.jsx("div",{className:m===t.id?"text-white/80":"text-gray-500",children:t.description})]})]}),m===t.id&&t.instructions&&e.jsx(o.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pl-13",children:e.jsx("ul",{className:"space-y-2 pl-4",children:t.instructions.map((n,d)=>e.jsxs("li",{className:"flex items-start text-white/80 text-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full mt-1.5 mr-2 flex-shrink-0"}),n]},d))})})]},t.id))})]})]})}),e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx($,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Delivery Date"})]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2 mb-8",children:_.map(t=>e.jsxs(o.button,{onClick:()=>w(t),disabled:!s||r(t,"yyyy-MM-dd")<=r(s,"yyyy-MM-dd"),className:`p-3 rounded-xl text-center transition-all duration-300 ${(a==null?void 0:a.toDateString())===t.toDateString()?"bg-green-600 text-white":!s||r(t,"yyyy-MM-dd")<=r(s,"yyyy-MM-dd")?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,whileHover:s&&r(t,"yyyy-MM-dd")>r(s,"yyyy-MM-dd")?{scale:1.05}:{},whileTap:s&&r(t,"yyyy-MM-dd")>r(s,"yyyy-MM-dd")?{scale:.95}:{},children:[e.jsx("div",{className:"text-sm font-medium",children:r(t,"EEE")}),e.jsx("div",{className:"text-lg font-bold",children:r(t,"d")})]},t.toISOString()))}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(E,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Delivery Time"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:C.map(t=>e.jsx(o.button,{onClick:()=>k(t),disabled:!f(t),className:`p-3 rounded-xl text-center transition-all duration-300 ${p===t?"bg-green-600 text-white":f(t)?"bg-gray-50 text-gray-700 hover:bg-gray-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,whileHover:f(t)?{scale:1.05}:{},whileTap:f(t)?{scale:.95}:{},children:t},`delivery-${t}`))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(j,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Delivery Preference"})]}),e.jsx("div",{className:"space-y-3",children:H.map(t=>e.jsxs(o.button,{onClick:()=>F(t.id),className:`w-full p-4 rounded-xl text-left transition-all duration-300 ${h===t.id?"bg-green-600 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${h===t.id?"bg-white/20":"bg-white"} flex items-center justify-center mr-3`,children:P.createElement(t.icon,{className:h===t.id?"text-white":"text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.title}),e.jsx("div",{className:h===t.id?"text-white/80":"text-gray-500",children:t.description})]})]}),h===t.id&&t.instructions&&e.jsx(o.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pl-13",children:e.jsx("ul",{className:"space-y-2 pl-4",children:t.instructions.map((n,d)=>e.jsxs("li",{className:"flex items-start text-white/80 text-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full mt-1.5 mr-2 flex-shrink-0"}),n]},d))})})]},t.id))})]})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(j,{className:"w-6 h-6 text-gray-600 mr-3"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Notes to Driver"})]}),e.jsx("textarea",{value:M,onChange:t=>W(t.target.value),placeholder:"Add any special instructions for pickup or delivery...",className:"w-full h-32 px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 transition-all duration-300 resize-none"})]})}),e.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[e.jsxs(o.button,{onClick:z,className:"flex items-center px-6 py-3 text-gray-600 hover:text-gray-900 transition-colors",whileHover:{x:-5},whileTap:{scale:.95},children:[e.jsx(J,{className:"w-5 h-5 mr-2"}),"Back"]}),e.jsxs(o.button,{onClick:Y,className:`flex items-center px-6 py-3 rounded-xl font-medium transition-all duration-300 ${N?"bg-blue-600 text-white shadow-lg hover:shadow-xl":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,whileHover:N?{scale:1.05}:{},whileTap:N?{scale:.95}:{},disabled:!N,children:["Continue",e.jsx(K,{className:"w-5 h-5 ml-2"})]})]})]})})};export{de as default};
