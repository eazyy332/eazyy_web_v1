import{u as f,r as n,j as e,m as i,U as u,h as N,P as j,s as v}from"./index-BsN2_pnW.js";import{A as w}from"./alert-circle-SvOm7kvH.js";import{B as q}from"./building-2-Cow0VFEx.js";import{A as k}from"./arrow-left-D92mxbb0.js";import{L as C}from"./loader-DxUHhYZM.js";const R=()=>{const o=f(),[a,d]=n.useState(!1),[c,m]=n.useState(null),[s,b]=n.useState({companyName:"",businessType:"",firstName:"",lastName:"",email:"",phone:"",description:"",serviceFrequency:""}),x=[{id:"hotel",name:"Hotel & Hospitality"},{id:"restaurant",name:"Restaurant & Catering"},{id:"gym",name:"Gym & Fitness Center"},{id:"salon",name:"Salon & Spa"},{id:"other",name:"Other Business"}],p=["Daily","Weekly","Bi-weekly","Monthly","On-demand"],y=async r=>{r.preventDefault(),m(null),d(!0);try{const{error:t}=await v.from("business_inquiries").insert({company_name:s.companyName,business_type:s.businessType,contact_name:`${s.firstName} ${s.lastName}`,email:s.email,phone:s.phone,additional_info:s.description,requirements:{frequency:s.serviceFrequency,description:s.description}});if(t)throw t;o("/business/success",{state:{companyName:s.companyName,contactName:`${s.firstName} ${s.lastName}`,email:s.email}})}catch(t){console.error("Registration error:",t),m(t.message||"Failed to submit registration. Please try again.")}finally{d(!1)}},l=r=>{const{name:t,value:g}=r.target;b(h=>({...h,[t]:g}))};return e.jsx("div",{className:"min-h-screen pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs(i.div,{className:"text-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Register Your Business"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Join Eazyy's network of business partners"})]}),e.jsxs(i.div,{className:"bg-white rounded-2xl shadow-lg p-6 sm:p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[c&&e.jsxs(i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 rounded-xl flex items-start",children:[e.jsx(w,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{className:"text-red-600",children:c})]}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",name:"companyName",value:s.companyName,onChange:l,required:!0,disabled:a,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter company name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),e.jsxs("select",{name:"businessType",value:s.businessType,onChange:l,required:!0,disabled:a,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select business type"}),x.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:l,required:!0,disabled:a,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"First name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:l,required:!0,disabled:a,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Last name"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:l,required:!0,disabled:a,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter email address"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:l,required:!0,disabled:a,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Enter phone number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Frequency"}),e.jsxs("select",{name:"serviceFrequency",value:s.serviceFrequency,onChange:l,required:!0,disabled:a,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select service frequency"}),p.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Requirements"}),e.jsx("textarea",{name:"description",value:s.description,onChange:l,required:!0,disabled:a,rows:6,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Please describe your service requirements in detail..."})]}),e.jsxs("div",{className:"flex justify-between items-center pt-6",children:[e.jsxs(i.button,{type:"button",onClick:()=>o("/business"),className:"flex items-center px-6 py-3 text-gray-600 hover:text-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{x:-5},whileTap:{scale:.95},disabled:a,children:[e.jsx(k,{className:"w-5 h-5 mr-2"}),"Back"]}),e.jsx(i.button,{type:"submit",disabled:a,className:`flex items-center px-6 py-3 rounded-xl font-medium transition-all duration-300 ${a?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,whileHover:a?{}:{scale:1.05},whileTap:a?{}:{scale:.95},children:a?e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"w-5 h-5 mr-2 animate-spin"}),"Submitting..."]}):"Submit Registration"})]})]})]})]})})};export{R as default};
