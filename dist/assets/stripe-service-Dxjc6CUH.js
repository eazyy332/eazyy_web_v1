import{s}from"./index-BsN2_pnW.js";const e="https://jamgmyljyydryxaonbgk.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImphbWdteWxqeXlkcnl4YW9uYmdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDIxMzUwNTIsImV4cCI6MjA1NzcxMTA1Mn0.N3v4C2PtSuW_VZ9ngyyjEMC06brPchLL4r8bsMjwXic";async function c(){try{const{data:{session:r}}=await s.auth.getSession();if(!r)throw new Error("You must be logged in to sync products");const t=await fetch(`${e}/functions/v1/stripe-sync`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});if(!t.ok){const o=await t.json();throw new Error(o.error||"Failed to sync products")}return await t.json()}catch(r){throw console.error("Error syncing products:",r),r}}async function i(){try{const r=await fetch(`${e}/functions/v1/stripe-sync`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});if(!r.ok){const t=await r.json();throw new Error(t.error||"Failed to get products")}return await r.json()}catch(r){throw console.error("Error getting products:",r),r}}async function p(r){try{const t=await fetch(`${e}/functions/v1/check-payment?payment_intent=${r}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`}});if(!t.ok){const o=await t.json();throw new Error(o.error||"Failed to check payment status")}return await t.json()}catch(t){throw console.error("Error checking payment status:",t),t}}export{p as c,i as g,c as s};
