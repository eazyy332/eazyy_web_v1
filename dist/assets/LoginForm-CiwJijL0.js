import{u as y,d as j,e as v,r as s,j as e,m as o,h as N,L as g}from"./index-BsN2_pnW.js";import{A as w}from"./AuthLayout-DdFODe0X.js";import{L as S}from"./lock-B2uZZrHm.js";import{L as I}from"./loader-DxUHhYZM.js";const A=()=>{const r=y(),i=j(),{signIn:b,signInWithGoogle:L}=v(),[n,f]=s.useState(""),[c,p]=s.useState(""),[a,d]=s.useState(!1),[u,m]=s.useState("");s.useEffect(()=>{const t=i.state;t!=null&&t.returnTo&&(localStorage.setItem("returnTo",t.returnTo),t.orderData&&localStorage.setItem("orderData",JSON.stringify(t.orderData)))},[i]);const h=async t=>{t.preventDefault(),m(""),d(!0);try{await b(n,c);const l=localStorage.getItem("returnTo"),x=localStorage.getItem("orderData");localStorage.removeItem("returnTo"),localStorage.removeItem("orderData"),l&&x?r(l,{state:JSON.parse(x)}):r("/")}catch{m("Invalid email or password"),d(!1)}};return e.jsx(w,{title:"Welcome Back",subtitle:"Sign in to your account to continue",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u&&e.jsx(o.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-lg bg-red-50 text-red-600 text-sm",children:u}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"email",value:n,onChange:t=>f(t.target.value),required:!0,disabled:a,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 transition-all duration-300",placeholder:"Enter your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"password",value:c,onChange:t=>p(t.target.value),required:!0,disabled:a,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring focus:ring-blue-200 transition-all duration-300",placeholder:"Enter your password"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),e.jsx(g,{to:"/forgot-password",className:"text-sm font-medium text-blue-600 hover:text-blue-700",children:"Forgot password?"})]}),e.jsx(o.button,{type:"submit",disabled:a,className:"w-full py-3 px-4 bg-blue-600 text-white rounded-xl font-medium shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center",whileHover:{scale:1.02},whileTap:{scale:.98},children:a?e.jsx(I,{className:"w-5 h-5 animate-spin"}):"Sign In"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),e.jsx(o.button,{type:"button",onClick:()=>r("/order/service"),className:"w-full py-3 px-4 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-all duration-300 flex items-center justify-center",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Continue as Guest"}),e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(g,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-700",children:"Sign up"})]})]})})};export{A as default};
